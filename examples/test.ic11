Pin FabElectro = d0;
Pin DialElectro = d3;

void Main()
{   
    var test = 1 + 2 * 4 / 5 - -5;
    while()
    {
        yield;
        
        if (FabElectro.IsSet && DialElectro.IsSet)
        {            
            if (!FabElectro.Activate)
            {
                FabElectro.ClearMemory = true;
                return;
            }
            
            var craftsDone = FabElectro.ExportCount;
            var craftsTarget = DialElectro.Setting;
            
            var craftsLeft = craftsTarget - craftsDone;
            
            DialElectro.Setting = craftsLeft;
            FabElectro.ClearMemory = true;
            
            if (craftsLeft <= 0)
            {
                DialElectro.Setting = 1;
                FabElectro.Activate = false;
            }
        }
    }
}